:root {
  --bg0: #031a24;
  --bg1: #062433;
  --panel: rgba(4, 22, 31, 0.75);
  --panel-border: rgba(0, 199, 255, 0.28);
  --text: #e5f7ff;
  --muted: #84a5b7;
  --cyan: #29d8ff;
  font-family: "Rajdhani", "Segoe UI", sans-serif;
}

* { box-sizing: border-box; }
html, body, #root { margin: 0; min-height: 100%; }
body { color: var(--text); background: #041e2b; }
button, input, select { font: inherit; }

.app-root { position: relative; min-height: 100vh; overflow-x: hidden; }
.app-shell { position: relative; z-index: 2; width: min(1200px, 100%); min-height: 100vh; margin: 0 auto; padding: 16px; display: grid; place-items: center; }

.animated-bg {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 10% 10%, rgba(40, 130, 170, 0.35), transparent 40%),
    radial-gradient(circle at 90% 80%, rgba(12, 90, 120, 0.35), transparent 35%),
    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px),
    linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
    linear-gradient(180deg, var(--bg1), var(--bg0));
  background-size: auto, auto, 42px 42px, 42px 42px, auto;
}
.grid-overlay { position: absolute; inset: 0; }

.screen-shell { width: 100%; }
.glass-panel { background: var(--panel); border: 1px solid var(--panel-border); border-radius: 16px; box-shadow: 0 12px 35px rgba(0,0,0,.35); backdrop-filter: blur(8px); }

.loading-screen { min-height: 100vh; display: grid; place-items: center; }
.error-pill { background: rgba(250,80,110,.15); border: 1px solid rgba(250,80,110,.45); border-radius: 8px; padding: 8px 10px; color: #ffd5de; }

.auth-card { width: min(460px, 100%); padding: 22px; display: grid; gap: 12px; }
.auth-card h1 { margin: 0; }
.auth-card p { margin: 0; color: var(--muted); }
.auth-form { display: grid; gap: 10px; }
.auth-form input { border: 1px solid rgba(53, 128, 157, 0.45); background: rgba(6, 29, 41, 0.65); color: var(--text); border-radius: 10px; padding: 10px 12px; }

.primary-btn, .ghost-btn {
  border-radius: 10px;
  border: 1px solid rgba(18, 119, 155, 0.56);
  padding: 11px 14px;
  cursor: pointer;
}
.primary-btn { background: #2ac8f7; color: #03131d; font-weight: 700; }
.ghost-btn { background: rgba(4, 28, 40, 0.86); color: var(--text); }

.home-online { padding: 20px; display: grid; gap: 16px; }
.topbar { display: flex; justify-content: space-between; align-items: center; gap: 10px; }
.topbar h1 { margin: 0; }
.topbar p { margin: 0; color: var(--muted); }
.top-actions { display: flex; gap: 8px; }
.setup-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px; }
.setup-box { padding: 16px; display: grid; gap: 9px; }
.setup-box label { color: #6ecfed; font-size: .85rem; }
.setup-box select { border: 1px solid rgba(53, 128, 157, 0.45); background: rgba(6, 29, 41, 0.65); color: var(--text); border-radius: 10px; padding: 9px; }

.profile-card { width: min(500px, 100%); padding: 20px; display: grid; gap: 10px; }
.profile-card input { border: 1px solid rgba(53, 128, 157, 0.45); background: rgba(6, 29, 41, 0.65); color: var(--text); border-radius: 10px; padding: 10px; }
.stats-mini { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 8px; color: var(--muted); }

.room-screen { display: grid; gap: 12px; }
.lobby-card, .match-card, .result-card { padding: 18px; display: grid; gap: 12px; }
.lobby-players { display: grid; gap: 8px; }
.lobby-player { padding: 10px; display: flex; justify-content: space-between; align-items: center; }
.lobby-player p { margin: 0; color: var(--muted); }
.presence-pill { display: inline-flex; align-items: center; gap: 6px; color: #8ad2e8; }

.match-header { display: flex; justify-content: space-between; align-items: center; gap: 10px; }
.match-header p { color: var(--muted); margin: 0; }
.score-row { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 8px; }
.score-chip { border: 1px solid rgba(26, 118, 148, 0.45); border-radius: 10px; padding: 9px; display: flex; justify-content: space-between; background: rgba(3,25,35,.8); }
.score-chip.active { border-color: var(--cyan); box-shadow: 0 0 12px rgba(33,197,239,.22); }

.board-grid { display: grid; gap: 8px; perspective: 900px; }
.memory-card { position: relative; width: 100%; aspect-ratio: 1; border: 0; background: transparent; padding: 0; cursor: pointer; }
.memory-card:disabled { cursor: default; }
.memory-card-inner { width: 100%; height: 100%; position: relative; will-change: transform; }
.memory-face { position: absolute; inset: 0; border-radius: 10px; backface-visibility: hidden; display: grid; place-items: center; }
.memory-back {
  border: 1px solid rgba(24, 126, 164, 0.55);
  background: radial-gradient(circle, rgba(32, 156, 197, 0.24) 1.2px, transparent 1.2px), linear-gradient(145deg, rgba(4, 47, 66, 0.72), rgba(4, 35, 48, 0.88));
  background-size: 10px 10px, auto;
}
.memory-front {
  transform: rotateY(180deg);
  border: 1px solid rgba(43, 214, 255, 0.92);
  color: var(--card-tint, #29d8ff);
  background: linear-gradient(165deg, rgba(6, 47, 65, 0.85), rgba(3, 26, 37, 0.95));
}
.memory-card.is-matched .memory-front { box-shadow: inset 0 0 24px rgba(31, 206, 255, 0.24), 0 0 16px rgba(26, 207, 255, 0.24); }
.coin-marker { position: absolute; top: -6px; right: -6px; width: 16px; height: 16px; border-radius: 50%; background: radial-gradient(circle at 35% 30%, #4fdfff 0%, #1ab9e4 55%, #0c7797 100%); border: 1px solid rgba(170,244,255,.95); opacity: 0; }
.coin-marker.visible { opacity: 1; }

.reconnect-overlay {
  position: fixed;
  inset: 0;
  background: rgba(3,12,18,.68);
  z-index: 40;
  display: grid;
  place-items: center;
  font-size: 1.2rem;
}

.toast-stack { position: fixed; top: 14px; right: 14px; z-index: 50; display: grid; gap: 8px; }
.toast-item { background: rgba(6, 48, 67, .92); border: 1px solid rgba(44,188,229,.55); padding: 8px 11px; border-radius: 8px; }

@media (max-width: 900px) {
  .setup-grid { grid-template-columns: 1fr; }
  .match-header { flex-direction: column; align-items: flex-start; }
}

@media (max-width: 720px) {
  .app-shell { padding: 10px; }
  .score-row { grid-template-columns: 1fr; }
}
